<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.i4.i4blog.repository.interfaces.user.UserRepository">
	
	<select id="findByUserId" resultType="com.i4.i4blog.repository.model.user.User">
		SELECT *
		  FROM user
		 WHERE user_id = #{userId}
	</select>
	
	<select id="findProfileByUserId" resultType="com.i4.i4blog.vo.user.ProfileInfoVo">
		SELECT a.user_id, a.user_nickname, a.user_state, a.user_role
			 , b.profile_title, b.profile_content
		  FROM user a
		  LEFT JOIN profile b
		    ON a.id = b.user_id
		 WHERE a.user_id = #{userId}
	</select>
	
	<insert id="insert">
		INSERT into user(user_id, user_password, user_name, user_nickname, user_phone, user_email)
		 VALUE (#{userId}, #{userPassword}, #{userName}, #{userNickname}, #{userPhone}, #{userEmail})
	</insert>
</mapper>